(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[910],{1489:e=>{"use strict";e.exports=JSON.parse('[{"constant":false,"inputs":[{"name":"_spender","type":"address"},{"name":"_value","type":"uint256"}],"name":"approve","outputs":[{"name":"","type":"bool"}],"type":"function"},{"constant":true,"inputs":[],"name":"decimals","outputs":[{"name":"","type":"uint8"}],"type":"function"},{"constant":true,"inputs":[],"name":"symbol","outputs":[{"name":"","type":"string"}],"type":"function"}]')},6164:(e,t,s)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/tokens",function(){return s(8677)}])},8677:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>h});var n=s(7876),a=s(8230),r=s.n(a),d=s(8554),i=s(4232),l=s(1819);function o(){let{tokens:e,addToken:t}=(0,d.c)(),[s,a]=(0,i.useState)(""),[r,o]=(0,i.useState)(""),[u,c]=(0,i.useState)(18),[p,m]=(0,i.useState)(""),h=async n=>(n.preventDefault(),l.PW(r))?e.some(e=>e.symbol===s||e.address.toLowerCase()===r.toLowerCase())?void m("Token symbol or address already exists"):void(await t({symbol:s,address:r,decimals:Number(u)}),a(""),o(""),c(18),m("")):void m("Invalid Ethereum address");return(0,n.jsxs)("form",{onSubmit:h,style:{marginTop:20},children:[(0,n.jsx)("h2",{children:"Add Token"}),p&&(0,n.jsx)("p",{style:{color:"red"},children:p}),(0,n.jsx)("div",{children:(0,n.jsx)("input",{type:"text",placeholder:"Symbol",value:s,onChange:e=>a(e.target.value),required:!0})}),(0,n.jsx)("div",{children:(0,n.jsx)("input",{type:"text",placeholder:"Address",value:r,onChange:e=>o(e.target.value),required:!0})}),(0,n.jsx)("div",{children:(0,n.jsx)("input",{type:"number",placeholder:"Decimals",value:u,onChange:e=>c(parseInt(e.target.value)),required:!0})}),(0,n.jsx)("button",{type:"submit",style:{marginTop:10},children:"Add Token"})]})}var u=s(2090),c=s(340),p=s(1489);function m(){let{provider:e}=(0,c.v)(),{tokens:t,addToken:s}=(0,d.c)(),[a,r]=(0,i.useState)(""),[o,m]=(0,i.useState)(""),[h,y]=(0,i.useState)(!1),v=async n=>{if(n.preventDefault(),m(""),!e)return void m("Wallet not connected");if(!l.PW(a))return void m("Invalid address");if(t.some(e=>e.address.toLowerCase()===a.toLowerCase()))return void m("Token already added");try{y(!0);let t=new u.NZ(a,p,e),[n,d]=await Promise.all([t.symbol(),t.decimals()]);await s({symbol:n,address:a,decimals:Number(d)}),r("")}catch(e){m("Failed to fetch token info")}finally{y(!1)}};return(0,n.jsxs)("form",{onSubmit:v,style:{marginTop:20},children:[(0,n.jsx)("h2",{children:"Add Token by Address"}),o&&(0,n.jsx)("p",{style:{color:"red"},children:o}),(0,n.jsx)("input",{type:"text",placeholder:"Token address",value:a,onChange:e=>r(e.target.value),required:!0}),(0,n.jsx)("button",{type:"submit",style:{marginLeft:10},disabled:h,children:h?"Adding...":"Add"})]})}function h(){let{tokens:e}=(0,d.c)();return(0,n.jsxs)("main",{style:{padding:20},children:[(0,n.jsx)("h1",{children:"Tokens"}),(0,n.jsx)("ul",{children:e.map(e=>(0,n.jsxs)("li",{children:[e.symbol," - ",e.address," - ",e.decimals]},e.symbol))}),(0,n.jsx)(o,{}),(0,n.jsx)(m,{}),(0,n.jsx)(r(),{href:"/swap",children:"← Back to Swap"})]})}}},e=>{var t=t=>e(e.s=t);e.O(0,[636,593,792],()=>t(6164)),_N_E=e.O()}]);