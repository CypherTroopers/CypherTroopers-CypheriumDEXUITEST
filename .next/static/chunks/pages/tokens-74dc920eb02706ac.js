(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5910],{36164:(e,t,s)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/tokens",function(){return s(38677)}])},38677:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>y});var r=s(37876),a=s(48230),n=s.n(a),d=s(38554),i=s(14232),o=s(41819);function l(){let{tokens:e,addToken:t}=(0,d.c)(),[s,a]=(0,i.useState)(""),[n,l]=(0,i.useState)(""),[u,c]=(0,i.useState)(18),[h,m]=(0,i.useState)(""),p=async r=>(r.preventDefault(),o.PW(n))?e.some(e=>e.symbol===s||e.address.toLowerCase()===n.toLowerCase())?void m("Token symbol or address already exists"):void(await t({symbol:s,address:n.toLowerCase(),decimals:Number(u)}),a(""),l(""),c(18),m("")):void m("Invalid Ethereum address");return(0,r.jsxs)("form",{onSubmit:p,style:{marginTop:20},children:[(0,r.jsx)("h2",{children:"Add Token"}),h&&(0,r.jsx)("p",{style:{color:"red"},children:h}),(0,r.jsx)("div",{children:(0,r.jsx)("input",{type:"text",placeholder:"Symbol",value:s,onChange:e=>a(e.target.value),required:!0})}),(0,r.jsx)("div",{children:(0,r.jsx)("input",{type:"text",placeholder:"Address",value:n,onChange:e=>l(e.target.value),required:!0})}),(0,r.jsx)("div",{children:(0,r.jsx)("input",{type:"number",placeholder:"Decimals",value:u,onChange:e=>c(parseInt(e.target.value)),required:!0})}),(0,r.jsx)("button",{type:"submit",style:{marginTop:10},children:"Add Token"})]})}var u=s(10924),c=s(57512),h=s(53545);let m=(0,u.U)(["function symbol() view returns (string)","function decimals() view returns (uint8)"]);function p(){let e=(0,h.e)({chainId:16166}),{tokens:t,addToken:s}=(0,d.c)(),[a,n]=(0,i.useState)(""),[o,l]=(0,i.useState)(""),[u,p]=(0,i.useState)(!1),y=async r=>{if(r.preventDefault(),l(""),!e)return void l("Public client not initialized");if(!(0,c.P)(a))return void l("Invalid address");if(t.some(e=>e.address.toLowerCase()===a.toLowerCase()))return void l("Token already added");try{p(!0);let t=await e.readContract({address:a,abi:m,functionName:"symbol"}),r=await e.readContract({address:a,abi:m,functionName:"decimals"});await s({symbol:t,address:a.toLowerCase(),decimals:Number(r)}),n("")}catch(e){console.error(e),l(e instanceof Error?e.message:"Failed to fetch token info")}finally{p(!1)}};return(0,r.jsxs)("form",{onSubmit:y,style:{marginTop:20},children:[(0,r.jsx)("h2",{children:"Add Token by Address"}),o&&(0,r.jsx)("p",{style:{color:"red"},children:o}),(0,r.jsx)("input",{type:"text",placeholder:"Token address",value:a,onChange:e=>n(e.target.value),required:!0}),(0,r.jsx)("button",{type:"submit",style:{marginLeft:10},disabled:u,children:u?"Adding...":"Add"})]})}function y(){let{tokens:e}=(0,d.c)();return(0,r.jsxs)("main",{style:{padding:20},children:[(0,r.jsx)("h1",{children:"Tokens"}),(0,r.jsx)("ul",{children:e.map(e=>(0,r.jsxs)("li",{children:[e.symbol," - ",e.address," - ",e.decimals]},e.symbol))}),(0,r.jsx)(l,{}),(0,r.jsx)(p,{}),(0,r.jsx)(n(),{href:"/swap",children:"← Back to Swap"})]})}}},e=>{var t=t=>e(e.s=t);e.O(0,[1819,3545,636,6593,8792],()=>t(36164)),_N_E=e.O()}]);