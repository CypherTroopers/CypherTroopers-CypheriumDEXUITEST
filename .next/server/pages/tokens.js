(()=>{var e={};e.id=910,e.ids=[220,636,910],e.modules={35:(e,t,r)=>{"use strict";r.a(e,async(e,s)=>{try{r.d(t,{A:()=>c});var n=r(8732),a=r(2015),i=r(9527),o=r(1131),u=r(8101),d=r(491),l=e([i,u]);function c(){let{provider:e}=(0,u.v)(),{tokens:t,addToken:r}=(0,o.c)(),[s,l]=(0,a.useState)(""),[c,p]=(0,a.useState)(""),[h,x]=(0,a.useState)(!1),m=async n=>{if(n.preventDefault(),p(""),!e)return void p("Wallet not connected");if(!i.ethers.isAddress(s))return void p("Invalid address");if(t.some(e=>e.address.toLowerCase()===s.toLowerCase()))return void p("Token already added");try{x(!0);let t=new i.ethers.Contract(s,d,e),[n,a]=await Promise.all([t.symbol(),t.decimals()]);await r({symbol:n,address:s,decimals:Number(a)}),l("")}catch{p("Failed to fetch token info")}finally{x(!1)}};return(0,n.jsxs)("form",{onSubmit:m,style:{marginTop:20},children:[(0,n.jsx)("h2",{children:"Add Token by Address"}),c&&(0,n.jsx)("p",{style:{color:"red"},children:c}),(0,n.jsx)("input",{type:"text",placeholder:"Token address",value:s,onChange:e=>l(e.target.value),required:!0}),(0,n.jsx)("button",{type:"submit",style:{marginLeft:10},disabled:h,children:h?"Adding...":"Add"})]})}[i,u]=l.then?(await l)():l,s()}catch(e){s(e)}})},237:(e,t)=>{"use strict";Object.defineProperty(t,"A",{enumerable:!0,get:function(){return r}});var r=function(e){return e.PAGES="PAGES",e.PAGES_API="PAGES_API",e.APP_PAGE="APP_PAGE",e.APP_ROUTE="APP_ROUTE",e.IMAGE="IMAGE",e}({})},361:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/pages.runtime.prod.js")},491:e=>{"use strict";e.exports=JSON.parse('[{"constant":false,"inputs":[{"name":"_spender","type":"address"},{"name":"_value","type":"uint256"}],"name":"approve","outputs":[{"name":"","type":"bool"}],"type":"function"},{"constant":true,"inputs":[],"name":"decimals","outputs":[{"name":"","type":"uint8"}],"type":"function"},{"constant":true,"inputs":[],"name":"symbol","outputs":[{"name":"","type":"string"}],"type":"function"}]')},639:(e,t,r)=>{"use strict";r.a(e,async(e,s)=>{try{r.r(t),r.d(t,{config:()=>m,default:()=>c,getServerSideProps:()=>x,getStaticPaths:()=>h,getStaticProps:()=>p,reportWebVitals:()=>f,routeModule:()=>j,unstable_getServerProps:()=>g,unstable_getServerSideProps:()=>S,unstable_getStaticParams:()=>b,unstable_getStaticPaths:()=>y,unstable_getStaticProps:()=>v});var n=r(3885),a=r(237),i=r(1413),o=r(8874),u=r(2386),d=r(7764),l=e([u,d]);[u,d]=l.then?(await l)():l;let c=(0,i.M)(d,"default"),p=(0,i.M)(d,"getStaticProps"),h=(0,i.M)(d,"getStaticPaths"),x=(0,i.M)(d,"getServerSideProps"),m=(0,i.M)(d,"config"),f=(0,i.M)(d,"reportWebVitals"),v=(0,i.M)(d,"unstable_getStaticProps"),y=(0,i.M)(d,"unstable_getStaticPaths"),b=(0,i.M)(d,"unstable_getStaticParams"),g=(0,i.M)(d,"unstable_getServerProps"),S=(0,i.M)(d,"unstable_getServerSideProps"),j=new n.PagesRouteModule({definition:{kind:a.A.PAGES,page:"/tokens",pathname:"/tokens",bundlePath:"",filename:""},components:{App:u.default,Document:o.default},userland:d});s()}catch(e){s(e)}})},1131:(e,t,r)=>{"use strict";r.d(t,{M:()=>i,c:()=>o});var s=r(8732),n=r(2015);let a=(0,n.createContext)(void 0);function i({children:e}){let[t,r]=(0,n.useState)([]),i=async e=>{r(t=>[...t,e]);try{await fetch("/api/tokens",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)})}catch{}};return(0,s.jsx)(a.Provider,{value:{tokens:t,addToken:i},children:e})}function o(){let e=(0,n.useContext)(a);if(!e)throw Error("useTokens must be used within TokensProvider");return e}},1413:(e,t)=>{"use strict";Object.defineProperty(t,"M",{enumerable:!0,get:function(){return function e(t,r){return r in t?t[r]:"then"in t&&"function"==typeof t.then?t.then(t=>e(t,r)):"function"==typeof t&&"default"===r?t:void 0}}})},1617:(e,t,r)=>{"use strict";r.d(t,{T:()=>o,v:()=>i});var s=r(8732),n=r(2015);let a=(0,n.createContext)(void 0);function i({children:e}){let[t,r]=(0,n.useState)([]),i=async e=>{r(t=>[...t,e]);try{await fetch("/api/pools",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)})}catch{}};return(0,s.jsx)(a.Provider,{value:{pools:t,addPool:i},children:e})}function o(){let e=(0,n.useContext)(a);if(!e)throw Error("usePools must be used within PoolsProvider");return e}},2015:e=>{"use strict";e.exports=require("react")},2326:e=>{"use strict";e.exports=require("react-dom")},2386:(e,t,r)=>{"use strict";r.a(e,async(e,s)=>{try{r.r(t),r.d(t,{default:()=>p});var n=r(8732);r(2768);var a=r(2754),i=r(1131),o=r(1617),u=r(8101),d=r(3720),l=r(8751),c=e([a,u]);[a,u]=c.then?(await c)():c;let p=(0,l.appWithTranslation)(function({Component:e,pageProps:t}){return(0,n.jsx)(i.M,{children:(0,n.jsx)(o.v,{children:(0,n.jsx)(d.S,{children:(0,n.jsxs)(u.r,{children:[(0,n.jsx)("div",{className:"background-logo"}),(0,n.jsx)(a.A,{}),(0,n.jsx)(e,{...t})]})})})})});s()}catch(e){s(e)}})},2754:(e,t,r)=>{"use strict";r.a(e,async(e,s)=>{try{r.d(t,{A:()=>c});var n=r(8732),a=r(9918),i=r.n(a),o=r(4233),u=r(8101),d=r(8751),l=e([u]);u=(l.then?(await l)():l)[0];let c=()=>{let e=(0,o.useRouter)(),{account:t,connectWallet:r}=(0,u.v)(),{t:s}=(0,d.useTranslation)("common");return(0,n.jsxs)("nav",{style:{display:"flex",gap:20,padding:"10px 20px",backgroundColor:"#f0f0f0",borderBottom:"1px solid #ccc"},children:[(0,n.jsx)(i(),{href:"/swap",style:{fontWeight:"/swap"===e.pathname?"bold":"normal"},children:s("swap")}),(0,n.jsx)(i(),{href:"/tokens",style:{fontWeight:"/tokens"===e.pathname?"bold":"normal"},children:s("tokens")}),(0,n.jsx)(i(),{href:"/pools",style:{fontWeight:"/pools"===e.pathname?"bold":"normal"},children:s("pools")}),(0,n.jsx)(i(),{href:"/dashboard",style:{fontWeight:"/dashboard"===e.pathname?"bold":"normal"},children:s("dashboard")}),(0,n.jsx)("div",{style:{marginLeft:"auto"},children:t?(0,n.jsx)("span",{children:(e=>`${e.slice(0,6)}...${e.slice(-4)}`)(t)}):(0,n.jsx)("button",{onClick:r,children:"Connect Wallet"})})]})};s()}catch(e){s(e)}})},2768:()=>{},3720:(e,t,r)=>{"use strict";r.d(t,{A:()=>o,S:()=>i});var s=r(8732),n=r(2015);let a=(0,n.createContext)(void 0);function i({children:e}){let[t,r]=(0,n.useState)(.5),[i,o]=(0,n.useState)(3e3);return(0,s.jsx)(a.Provider,{value:{slippage:t,poolFee:i,setSlippage:r,setPoolFee:o},children:e})}function o(){let e=(0,n.useContext)(a);if(!e)throw Error("useDexSettings must be used within DexSettingsProvider");return e}},3873:e=>{"use strict";e.exports=require("path")},4075:e=>{"use strict";e.exports=require("zlib")},7764:(e,t,r)=>{"use strict";r.a(e,async(e,s)=>{try{r.r(t),r.d(t,{default:()=>c});var n=r(8732),a=r(9918),i=r.n(a),o=r(1131),u=r(9798),d=r(35),l=e([u,d]);function c(){let{tokens:e}=(0,o.c)();return(0,n.jsxs)("main",{style:{padding:20},children:[(0,n.jsx)("h1",{children:"Tokens"}),(0,n.jsx)("ul",{children:e.map(e=>(0,n.jsxs)("li",{children:[e.symbol," - ",e.address," - ",e.decimals]},e.symbol))}),(0,n.jsx)(u.A,{}),(0,n.jsx)(d.A,{}),(0,n.jsx)(i(),{href:"/swap",children:"← Back to Swap"})]})}[u,d]=l.then?(await l)():l,s()}catch(e){s(e)}})},7910:e=>{"use strict";e.exports=require("stream")},8101:(e,t,r)=>{"use strict";r.a(e,async(e,s)=>{try{r.d(t,{r:()=>u,v:()=>d});var n=r(8732),a=r(2015),i=r(9527),o=e([i]);i=(o.then?(await o)():o)[0];let l=(0,a.createContext)(void 0);function u({children:e}){let[t,r]=(0,a.useState)(""),[s,o]=(0,a.useState)(),[u,d]=(0,a.useState)(),c=async()=>{let e=window.ethereum;if(!e)return alert("MetaMaskが見つかりません");let t=new i.ethers.BrowserProvider(e),s=await t.getSigner(),n=await s.getAddress();o(t),d(s),r(n)};return(0,n.jsx)(l.Provider,{value:{account:t,provider:s,signer:u,connectWallet:c},children:e})}function d(){let e=(0,a.useContext)(l);if(!e)throw Error("useWallet must be used within WalletProvider");return e}s()}catch(e){s(e)}})},8732:e=>{"use strict";e.exports=require("react/jsx-runtime")},8751:e=>{"use strict";e.exports=require("next-i18next")},8874:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>a});var s=r(8732),n=r(2341);function a(){return(0,s.jsxs)(n.Html,{lang:"en",children:[(0,s.jsx)(n.Head,{}),(0,s.jsxs)("body",{children:[(0,s.jsx)(n.Main,{}),(0,s.jsx)(n.NextScript,{})]})]})}},9021:e=>{"use strict";e.exports=require("fs")},9527:e=>{"use strict";e.exports=import("ethers")},9798:(e,t,r)=>{"use strict";r.a(e,async(e,s)=>{try{r.d(t,{A:()=>d});var n=r(8732),a=r(2015),i=r(9527),o=r(1131),u=e([i]);function d(){let{tokens:e,addToken:t}=(0,o.c)(),[r,s]=(0,a.useState)(""),[u,d]=(0,a.useState)(""),[l,c]=(0,a.useState)(18),[p,h]=(0,a.useState)(""),x=async n=>(n.preventDefault(),i.ethers.isAddress(u))?e.some(e=>e.symbol===r||e.address.toLowerCase()===u.toLowerCase())?void h("Token symbol or address already exists"):void(await t({symbol:r,address:u,decimals:Number(l)}),s(""),d(""),c(18),h("")):void h("Invalid Ethereum address");return(0,n.jsxs)("form",{onSubmit:x,style:{marginTop:20},children:[(0,n.jsx)("h2",{children:"Add Token"}),p&&(0,n.jsx)("p",{style:{color:"red"},children:p}),(0,n.jsx)("div",{children:(0,n.jsx)("input",{type:"text",placeholder:"Symbol",value:r,onChange:e=>s(e.target.value),required:!0})}),(0,n.jsx)("div",{children:(0,n.jsx)("input",{type:"text",placeholder:"Address",value:u,onChange:e=>d(e.target.value),required:!0})}),(0,n.jsx)("div",{children:(0,n.jsx)("input",{type:"number",placeholder:"Decimals",value:l,onChange:e=>c(parseInt(e.target.value)),required:!0})}),(0,n.jsx)("button",{type:"submit",style:{marginTop:10},children:"Add Token"})]})}i=(u.then?(await u)():u)[0],s()}catch(e){s(e)}})}};var t=require("../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),s=t.X(0,[89,124,341],()=>r(639));module.exports=s})();